pipeline {
    agent { label 'terraform' }
    stages {
        stage('Terraform Version') {
            steps {
                sh 'terraform -version'
            }
        }
         stage('Terraform init') {
            steps {
                sh 'terraform init'
            }
        }
         stage('Terraform Plan') {
            steps {
                sh 'terraform plan'
            }
          }
   parameters {
     choice(
        name: 'myParameter',
        choices: "Yes\No",
        description: 'choice parameters' )
     }
         stage('Terraform apply') {
            steps {
                sh 'terraform apply -input=false -auto-approve'
                
            }
          }    
     } 
}
